version: '3.8'

services:
    # Backend API
  backend:
    build:
      context: .
      dockerfile: Dockerfile
    container_name: spectra-backend
    environment:

      UPLOAD_DIR: ./uploads
      MAX_FILE_SIZE: ${MAX_FILE_SIZE:-100000000}
      DEFAULT_EPSG: ${DEFAULT_EPSG:-4326}
    ports:
      - "8888:8888"
    volumes:
      # Mount uploads directory (persistent storage)
      - ./uploads:/app/uploads
      - ./logs:/app/logs
    networks:
      gisnet:
        aliases:
          - spectra-backend.docker
    restart: unless-stopped

networks:
  gisnet:
    external: true